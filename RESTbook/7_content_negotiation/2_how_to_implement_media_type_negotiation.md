# How to implenent media type negotation

* Если запрос не имеет заголовка **Accept** то ответ возращается в дефолтном формате.
* Если запрос имеет заголовок **Accept**, то нужно его распрсить, отсортировать типы по убыванию значения в **q**. Ответ отпрвить в наиболее допустимом формате. В ответ добавить заголовок **Vary** (7.6).
* Если сервер не поддерживает ни один из типов, то (7.7).
