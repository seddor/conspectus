>Выберите как минимум две спроектированные интеграции. Одна из них обязательно должна быть с HTTP / REST, другая с очередями.

Допусти у нас есть два внешних сервиса с которыми интегрируется наша система:

## Сервис заказов

Сервис в который отправляются созданные заказы, для отправки заказы кладутся в очередь, а затем отправляются в этот сервис, посредством его API. После успешной отправки у заказа сменяется статус "экспортирован".

## Сервис местоположения

Сервис местоположения — REST сервис, который определяет населённый пункт пользователя по координатам.

>Раскройте возможный сценарий возникновения ошибок и способ их обработки вашей системой.

## Сервис заказов

При отправке заказа в сервис могут возникнуть такие ошибки:

* Ошибка валидации заказа — сервис заказа может вернуть ошибку, если заказ не соответствует его требованием, тогда у заказа меняется статус на "ошибка при экспорте", данные ошибки сохраняются в лог. Тут можно ещё добавить механизм для уведомления менеджера об ошибке, чтобы проблему могли оперативно обработать.
* Ошибка сервиса заказов — с сервисом могут возникнуть какие-то проблемы, он может быть сейчас недоступен и возвращать 500е ошибки или сервис не будет отвечать по тайм-ауту, тогда заказ заново кладётся в очередь и, через некоторое время, система снова пробует его отправить.
* Ошибки при работе с БД, при смене статуса заказа изменения записываются в БД, с БД могут быть проблемы, тогда заказ записывается в специальную очередь (по одной на каждый из возможных статусов, в нашем случае две) и обрабатывается позже
* Если возникает какая-то ошибка при чтении данных заказа из очереди, то заказ кладётся в Dead Letter Queue

## Сервис местоположения

При взаимодействием с сервисом могут возникать такие ошибки:

* Ошибки валидации — если присылаемые с сайта данные сервис считает не валидными, тогда пользователю отображается сообщение о том что "местоположение не удалось определить" и предлагается выбрать его вручную
* Ошибка сервиса — сервис может возвращать 500е ошибки или не отвечать по тайм-ауту, тогда пользователю отображается аналогичное сообщение: "местоположение не удалось определить" и предлагается выбрать его вручную

При выборе вручную отправляется запрос на получение списка городов, выбранный или полученный из сервиса местоположения город сохраняется в сессии.

>В рамках одной интеграции примените более одного сценария повышения отказоустойчивости.

## Сервис заказов

Здесь применяются такие сценарии как:

* Обмен сообщениями
* Retry (при ошибках сервиса заказ пытается отправится несколько раз)

## Сервис местоположения

Здесь применяются такие сценарии как:

* Time out
* Fallback — если от сервиса не удалось получить ответ, то используется функционал с вводом местоположения вручную

>Используйте диаграмму последовательности, чтобы показать последовательность действий, которую надо сделать вашей системе при обработке ошибок.

>Для REST API обновите swagger-файл и укажите появившиеся ошибки, которые возвращает ваш сервис (Swagger Editor).

Добавил информацию об ошибках в имеющееся описания. Добавил запросы /customer/location/ и /customer/location/city для логики с определением местоположения местоположения
