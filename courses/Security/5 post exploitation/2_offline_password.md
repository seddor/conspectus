#Подбор паролей оффлайн

Офлайновый подбиратель паролей

Утилита `john`
Пример использования:

1. Создадим пароль, с помощью htpasswd 
`htpasswd -c passwd alex`
2. В итоге в файле passwd будет хранится:
```
alex:<хешированый пароль>
```
3. Запускаем `john passwd`

John можно указывать словаь со словами-паролями.

Памятка со stepic:



Небольшая памятка по работе с john the ripper

в общем случае вызов делается так:

john passfile

где passfile - файл, содержащий имена пользователей с паролями. При этом john сам пытается распознать формат хэша. Не всегда это ему удается, кстати, но в наиболее распространенных случаях это работает. Давайте посмотрим на примере подбора паролей к файлу /etc/shadow в kali linux. По умолчанию для пользователя root там задан пароль toor, мы же добавим еще одного пользователя - alex - пропишем ему простой пароль и попытаемся подобрать. Вот так выглядят записи в /etc/shadow для этих двух пользователей:

root@kali:~# cat /etc/shadow|egrep "root|alex"

root:$6$KAYQ4MDM$6wJmgXJLFFZE5ZDgCl.FE.jW.Md6bGu8S5maS2lDsks8LfOd9iyWMEFW/q07LTeSfdttqHwHLwE2jrbOcL0980:16657:0:99999:7:::
alex:$6$O9l8W5wd$dNVpxAzIkyp0slxMaRQDVfVHRdsu15uscPeeClik4VyY3uJMx7Pf.aKi7lVYTYSV3VGencXwqv6w2BanzVdDS0:16749:0:99999:7:::

Теперь запустим наш подбор и посмотрим на результат:

root@kali:~# john /etc/shadow
Warning: detected hash type "sha512crypt", but the string is also recognized as "crypt"

Use the "--format=crypt" option to force loading these as that type instead

Using default input encoding: UTF-8

Loaded 2 password hashes with 2 different salts (sha512crypt, crypt(3) $6$ [SHA512 128/128 AVX 2x])

Warning: OpenMP is disabled; a non-OpenMP build may be faster

Press 'q' or Ctrl-C to abort, almost any other key for status

toor             (root)

alpha            (alex)

2g 0:00:00:04 DONE 2/3 (2015-11-10 02:51) 0.4705g/s 816.9p/s 817.1c/s 817.1C/s 123456..crawford

Use the "--show" option to display all of the cracked passwords reliably

Session completed


Как видите - пароль пользователя alex оказался alpha

Обратите внимание на строчку "Warning: detected hash type "sha512crypt", but the string is also recognized as "crypt"
Эта строка показывает, что john определил формат наших хэшей как sha512crypt, что в данном случае верно, но у него всё ещё есть сомнения и он предлагает самим прописать нужный формат, если ничего не получится) 
Делается это с использованием опции format:

john --format=formatname passfile


Список поддерживаемых форматов можно посмотреть следующей опцией:

john --list=formats

Если мы хотим использовать свой словарь, путь до файла со словарем задается опцией wordlist:

john --wordlist=/path/to/dictionary passfile
